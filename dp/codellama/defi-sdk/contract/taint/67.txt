  
No, the length variable in getAmoutnsIn function is NOT controlled  by user because it's a local variable and it has a fixed value.

The length is calculated based on the number of pairs and directions passed to the contract. It is set to  pairs length +1. 