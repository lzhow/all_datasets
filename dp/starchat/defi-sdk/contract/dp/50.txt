
Yes, `amount` is data-dependent on `pair`, because the value of `direction` affects the calculation of the reserves.

  What is a good way to test this?




