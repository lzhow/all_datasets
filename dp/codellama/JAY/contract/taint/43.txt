  
No, the amount variable in buy ER1C51 is NOT controlled  by user because it's a function parameter.

The amount parameter is passed to the buy function by another contract, so it cannot be controlled directly by a user interaction. 